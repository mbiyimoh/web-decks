# Railway Configuration
# See: https://docs.railway.com/reference/config-as-code

[build]
builder = "NIXPACKS"

[deploy]
# CRITICAL: Next.js requires explicit hostname and port binding
# -H 0.0.0.0: Accept connections from all network interfaces (not just localhost)
# -p $PORT: Use Railway's dynamically assigned port
startCommand = "next start -H 0.0.0.0 -p $PORT"

# Health check configuration
healthcheckPath = "/api/health"
healthcheckTimeout = 100

# Restart policy
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 10
